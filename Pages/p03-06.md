# Granger Causality

## ğŸŒŸ **1. What is Granger Causality? (Layman Explanation)**

âœ… **Imagine two things:**

* **Rainfall** and **umbrella sales**.

If knowing **past rainfall data** helps **predict future umbrella sales**, we say:

ğŸŒ§ï¸ â†’ â˜‚ï¸
**â€œRainfall Granger-causes umbrella sales.â€**

ğŸ”‘ **Important:**
It doesnâ€™t mean rainfall **directly causes** sales. It means rainfall has **predictive power** for umbrella sales.

---

### ğŸ§  **Granger causality tells us:**

âœ”ï¸ If **past values of one time series (X)** help **predict future values of another (Y)**, **beyond what Yâ€™s past values predict on their own**.

---

## ğŸ”¬ **2. Technical Definition**

### **Granger Causality Test:**

* Tests **whether lagged values of X improve prediction of Y**.

* **Null Hypothesis (H0):** X does NOT Granger-cause Y.

* **Alternative Hypothesis (H1):** X Granger-causes Y.

âœ… If **p-value < 0.05**, reject H0 â†’ **X Granger-causes Y**.

---

### âœ… **Example (Economics)**

* Does **money supply** Granger-cause **inflation**?
* Does **GDP growth** Granger-cause **employment rates**?

---

## ğŸ **3. How to Perform Granger Causality Test in Python**

Here is a **step-by-step practical example**:

---

### ğŸ”· **Step 1. Install and import libraries**

```python
# Install via: pip install statsmodels

import pandas as pd
import numpy as np
from statsmodels.tsa.stattools import grangercausalitytests
```

---

### ğŸ”· **Step 2. Create sample data**

#### âœ… **Simulated example where X Granger-causes Y**

```python
np.random.seed(42)

# Create X as random values
x = np.random.normal(0, 1, 100)

# Create Y as X lagged + noise
y = np.roll(x, 1) + np.random.normal(0, 1, 100)

# Combine into DataFrame
df = pd.DataFrame({'Y': y, 'X': x})
```

---

### ğŸ”· **Step 3. Perform Granger Causality Test**

```python
# Test if X Granger-causes Y
# maxlag=2 tests with 1 and 2 lags

result = grangercausalitytests(df[['Y', 'X']], maxlag=2, verbose=True)
```

---

### ğŸ”· **Step 4. Interpret Results**

* For each lag (1,2), check **p-value**:

âœ… **p-value < 0.05 â†’ X Granger-causes Y.**
âŒ **p-value > 0.05 â†’ X does NOT Granger-cause Y.**

The output will show:

* **F-test statistic and p-value**
* **Different tests (ssr F-test, ssr chi2-test, etc.)**

---

### ğŸ”· **Step 5. Reverse Test (Does Y Granger-cause X?)**

```python
# Test reverse causality
result_reverse = grangercausalitytests(df[['X', 'Y']], maxlag=2, verbose=True)
```

---

## ğŸ’¡ **4. Final Summary (Layman)**

âœ”ï¸ **Granger Causality = Does past X help predict future Y?**
âœ”ï¸ **Why important?** Useful for **economics, finance, forecasting models** to determine leading indicators.
âœ”ï¸ **How to check?** Use **grangercausalitytests** function in Python from **statsmodels**.

---
